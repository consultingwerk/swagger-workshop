<?xml version="1.0" encoding="utf-8"?>

<project name="SmartComponent Library Support" basedir=".">
  
    <taskdef resource="PCT.properties" classpath="/Progress/PCT/ant/lib/PCT.jar" />
  
    <!-- Targets for creating databases -->
    <target name="create-emptydb" description="Builds an empty DB">
        <PCTCreateBase dbName="emptydb" destDir="../DB"
            blockSize="8" dlcHome="${progress.DLC}" />
    </target>

    <target name="create-icfdb" description="Builds an empty ICFDB">
        <PCTCreateBase dbName="icfdb" destDir="../DB"
            schemaFile="../DB/build/icfdb/icfdb.df" structFile="../DB/build/icfdb/icfdb.st"
            blockSize="8" dlcHome="${progress.DLC}" />
    </target>

    <target name="create-SmartDB" description="Builds an empty SmartDB">
        <PCTCreateBase dbName="SmartDB" destDir="../DB"
            schemaFile="../DB/build/SmartDB/SmartDB.df" structFile="../DB/build/SmartDB/SmartDB.st"
            blockSize="8" dlcHome="${progress.DLC}" />
    </target>

    <target name="create-Sports2000" description="Builds an empty Sports20000 DB">
        <PCTCreateBase dbName="sports2000" destDir="../DB"
            schemaFile="../DB/build/Sports2000/Sports2000.df" structFile="../DB/build/Sports2000/Sports2000.st"
            blockSize="8" dlcHome="${progress.DLC}" />
    </target>
 
    <!-- http://stackoverflow.com/questions/1472803/ant-how-to-delete-only-empty-directories-recursively -->
    <!-- Find and delete empty folders under dir -->
    <macrodef name="deleteEmptyFolders">
        <attribute name="dir"/>
        <sequential>
            <delete includeemptydirs="true">
                <fileset dir="@{dir}"  >
                    <and>
                        <size value="0"/>
                        <type type="dir"/>
                    </and>
                </fileset>
            </delete>
        </sequential>
    </macrodef>
 
</project>